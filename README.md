# ğŸ—£ï¸ SpeakMate - AI English Fluency Coach (V2)

Your friendly AI companion to improve English fluency through natural conversation.

> **Status**: Production V2 (Refactored React Native Style Architecture)
> **Engine**: Deepgram Nova-2 (STT) + OpenAI GPT-4o (Brain) + Deepgram Aura (TTS)

---

## âœ¨ Features

### ğŸ§  The Conversation Engine (V2)
- **Full-Duplex Flow**: Real-time conversation with effortless turn-taking.
- **Depth-Based Logic**: Automatically progresses from *Surface* -> *Personal* -> *Reflective* topics based on session duration.
- **Natural Nudges**: Gently prompts you if you stay silent for too long ("Still there?").
- **Barge-In Ready**: Interrupt the AI anytime, and it stops speaking immediately to listen to you.

### ğŸ¨ Modern Experience
- **Liquid Glass UI**: Premium, glassmorphism-inspired design with vibrant gradients.
- **Performance Dashboards**: Visual gauges for Fluency, Vocabulary, Grammar, and Pronunciation.
- **Secure Architecture**: All API keys are hidden behind server-side proxy routes.

### ğŸ“Š Evaluation & Feedback
- **Standard Scoring**: Instant Band Scores (0-9) generated by GPT-4o analysis.
- **Detailed Corrections**: Review your mistakes with actionable "Better way to say it" tips.
- **Action Plans**: Personalized recommendations based on your weakest skills.

---

## ğŸ› ï¸ Tech Stack

### Core
- **Framework**: Next.js 15 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS

### The "Brain" (AI Stack)
- **Intelligence**: OpenAI **GPT-4o** (Server-Side)
- **Ears (STT)**: Deepgram **Nova-2** (WebSocket / Real-time)
- **Voice (TTS)**: Deepgram **Aura (Iris)** (Low latency streaming)

### Architecture
- **Feature-First**: Code is organized by domain (`features/hangout`) rather than type (`hooks/`, `components/`).
- **Single Hook State**: `useConversation` manages the entire finite state machine (IDLE -> LISTENING -> THINKING -> SPEAKING).

---

## ğŸš€ Getting Started

### 1. Prerequisites
- Node.js 18+
- `OPENAI_API_KEY`
- `DEEPGRAM_API_KEY`

### 2. Installation

```bash
npm install
```

### 3. Environment Setup
Create `.env.local`:

```env
OPENAI_API_KEY=sk-...
DEEPGRAM_API_KEY=...
```

### 4. Run Development Server

```bash
npm run dev
```

Open [http://localhost:3000](http://localhost:3000).

---

## ğŸ—ï¸ Project Structure (Feature-First)

We follow a modular architecture where everything related to a specific feature lives together.

```
src/
â”œâ”€â”€ app/                      # Next.js Routes
â”‚   â”œâ”€â”€ api/                  # Secure API Proxies (chat, tts)
â”‚   â””â”€â”€ hangout/              # Logic-free Page Wrappers
â”‚
â”œâ”€â”€ features/                 # Domain Logic
â”‚   â””â”€â”€ hangout/              # THE HANGOUT MODULE
â”‚       â”œâ”€â”€ components/       # UI (HangoutUI, Visualizers)
â”‚       â”œâ”€â”€ hooks/            # Logic (useConversation, useTTS)
â”‚       â”œâ”€â”€ services/         # Business Logic (Evaluation)
â”‚       â””â”€â”€ utils/            # Helpers
â”‚
â”œâ”€â”€ components/               # Shared UI (Layouts, Cards)
â””â”€â”€ lib/                      # Global Config
```

### Key Files

| File | Purpose |
|------|---------|
| `features/hangout/hooks/useConversation.ts` | **The Brain**. Manages the entire conversation loop. |
| `app/api/chat/route.ts` | Secure GPT-4o Gateway. |
| `app/api/tts/route.ts` | Secure Deepgram TTS Streamer. |
| `features/hangout/services/evaluation.ts` | Scoring Engine (IELTS Rubric). |

---

## ğŸ¤ Contributing

This project is a sophisticated AI demo. If you want to change the "Personality", edit the system prompt in `features/hangout/hooks/useConversation.ts`.

## ğŸ“ License

MIT License
